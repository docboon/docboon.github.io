<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>3.&nbsp;caddy&#30340;&#37197;&#32622;&#26041;&#24335;</title><link rel="stylesheet" type="text/css" href="themes/default/style/style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><style type="text/css">
body { background-image: url('themes/default/style/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="Caddy&#20351;&#29992;&#25163;&#20876;"><link rel="up" href="ch01.html" title="&#31532;&nbsp;1&nbsp;&#31456;&nbsp;&#20851;&#20110;caddy"><link rel="prev" href="ch01s02.html" title="2.&nbsp;&#23433;&#35013;"><link rel="next" href="ch02.html" title="&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#20351;&#29992;&#20837;&#38376;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.&nbsp;caddy&#30340;&#37197;&#32622;&#26041;&#24335;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s02.html"><img src="themes/default/navig/prev.png" alt="&#19978;&#19968;&#39029;"></a>&nbsp;</td><th width="60%" align="center">&#31532;&nbsp;1&nbsp;&#31456;&nbsp;&#20851;&#20110;caddy</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02.html"><img src="themes/default/navig/next.png" alt="&#19979;&#19968;&#39029;"></a></td></tr></table></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e263"></a>3.&nbsp;caddy&#30340;&#37197;&#32622;&#26041;&#24335;</h2></div></div></div><p>&#20316;&#20026;&#27010;&#35272;&#65292;&#22312;&#26412;&#33410;&#25105;&#20204;&#20174;&#19968;&#20123;&#22522;&#30784;&#30340;&#26041;&#38754;&#23637;&#31034;&#22914;&#20309;&#20351;&#29992;caddy&#12290;</p><p>caddy&#30340;&#37197;&#32622;&#21644;&#22823;&#22810;&#25968;&#30340;web server&#19981;&#22826;&#19968;&#26679;&#12290;&#26377;&#19977;&#31181;&#19981;&#21516;&#30340;&#37197;&#32622;&#26041;&#24335;&#65306;</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><span class="emphasis"><em>JSON</em></span><p>caddy&#30340;&#21407;&#29983;&#37197;&#32622;&#26159;JSON&#26684;&#24335;&#12290;&#20351;&#29992;JSON&#26684;&#24335;&#26469;&#37197;&#32622;caddy&#21487;&#20197;&#23454;&#29616;&#23427;&#30340;&#20840;&#37096;&#21151;&#33021;&#12290;&#22914;&#26524;&#19981;&#21916;&#27426;JSON&#30340;&#37197;&#32622;&#26041;&#24335;&#65292;&#20063;&#21487;&#26159;&#20351;&#29992;caddy&#25152;&#20855;&#22791;&#30340;&#8220;&#36866;&#37197;&#22120;&#65288;adapter&#65289;&#8221;&#21151;&#33021;&#26469;&#20351;&#29992;&#20854;&#20182;&#30340;&#37197;&#32622;&#26684;&#24335;&#12290;&#20854;&#20013;&#65292;Caddyfile&#23601;&#26159;&#8220;adapter&#8221;&#30340;&#19968;&#31181;&#12290;&#21478;&#22806;&#65292;caddy&#20063;&#21487;&#20197;&#36890;&#36807;&#20351;&#29992;&#8220;nginx adapter&#8221;&#26469;&#20351;&#29992;nginx&#30340;&#37197;&#32622;&#25991;&#20214;&#12290;</p></li><li class="listitem"><span class="emphasis"><em>Caddyfile</em></span><p>&#36825;&#26159;&#19968;&#31181;&#27604;&#36739;&#23454;&#29992;&#21644;&#20415;&#25463;&#30340;&#26041;&#24335;&#12290;&#22312;&#36825;&#31181;&#26041;&#24335;&#19979;&#65292;&#20351;&#29992;<code class="filename">Caddyfile</code>&#36825;&#20010;&#25991;&#20214;&#26469;&#37197;&#32622;&#31995;&#32479;&#12290;&#36825;&#20010;&#25991;&#20214;&#30340;&#37197;&#32622;&#35821;&#27861;&#27604;&#36739;&#23481;&#26131;&#38405;&#35835;&#65292;&#24182;&#19988;&#20063;&#33021;&#22815;&#32988;&#20219;&#22823;&#37096;&#20998;&#30340;&#20351;&#29992;&#22330;&#26223;&#12290;&#23427;&#30340;&#26679;&#23376;&#22914;&#19979;&#65306;</p><pre class="programlisting">&nbsp;&nbsp;1 example.com
&nbsp;&nbsp;2 
&nbsp;&nbsp;3 root * /var/www/wordpress
&nbsp;&nbsp;4 php_fastcgi unix//run/php/php-version-fpm.sock
&nbsp;&nbsp;5 file_server</pre><p>&#36825;&#20010;&#25991;&#20214;&#21487;&#20197;&#20445;&#23384;&#20110;&#31995;&#32479;&#20013;&#30340;&#20219;&#20309;&#20301;&#32622;&#12290;&#21482;&#38656;&#22312;&#21551;&#21160;&#26102;&#20351;&#29992;&#22914;&#19979;&#21629;&#20196;&#36827;&#34892;&#25351;&#23450;&#23601;&#21487;&#20197;&#20102;&#12290;</p><pre class="screen">caddy adapt --config /path/to/Caddyfile</pre><p>caddy&#20351;&#29992;&#30340;&#37197;&#32622;&#25991;&#20214;&#26159;JSON&#26684;&#24335;&#30340;&#65292;&#20854;&#20182;&#26684;&#24335;&#30340;&#25991;&#20214;&#65292;&#20363;&#22914;Caddyfile&#65292;&#38656;&#35201;&#20351;&#29992;&#37197;&#32622;&#36866;&#37197;&#22120;&#23558;&#20854;&#36716;&#25442;&#20026;JSON&#26684;&#24335;&#12290;caddy&#21033;&#29992;&#36825;&#31181;&#26426;&#21046;&#21487;&#20197;&#20351;&#29992;&#20854;&#20182;&#31867;&#22411;&#30340;&#37197;&#32622;&#25991;&#20214;&#65292;&#30446;&#21069;&#25903;&#25345;8&#31181;&#65306;Caddyfile&#12289;nginx&#30340;&#37197;&#32622;&#25991;&#20214;&#12289;jsonc&#12289;josn5&#12289;yaml&#12289;cue&#12289;toml&#12289;&#21450;hcl</p></li><li class="listitem"><span class="emphasis"><em>caddyAPI</em></span><p>caddy&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;&#31649;&#29702;&#31471;&#28857;&#65288;administration endpoint&#65289;&#26469;&#37197;&#32622;&#65292;&#36825;&#20010;&#31649;&#29702;&#31471;&#28857;&#26159;&#19968;&#22871;&#36890;&#36807;HTTP&#21327;&#35758;&#20351;&#29992;&#26469;&#20351;&#29992;&#30340;REST API&#12290;&#36825;&#20010;&#8220;&#31649;&#29702;&#31471;&#28857;&#8221;&#21487;&#20197;&#22312;&#37197;&#32622;&#25991;&#20214;&#20013;&#36827;&#34892;&#37197;&#32622;&#12290;&#23427;&#30340;&#40664;&#35748;&#20351;&#29992;&#22320;&#22336;&#26159;&#65306;<code class="uri">localhost:2019</code></p></li></ol></div><p>&#19978;&#38754;&#25152;&#35828;&#21040;&#30340;&#65292;&#26159;caddy&#30340;&#19977;&#31181;&#37197;&#32622;&#21644;&#31649;&#29702;&#30340;&#26041;&#24335;&#12290;&#22312;&#21518;&#38754;&#30340;&#31456;&#33410;&#20250;&#38470;&#32493;&#36827;&#34892;&#35828;&#26126;&#12290;</p><p>&#22914;&#26524;&#26159;&#20351;&#29992;&#26576;&#31181;&#21253;&#31649;&#29702;&#26041;&#24335;&#23433;&#35013;&#30340;caddy&#65292;&#37027;&#20040;caddy&#24050;&#32463;&#26159;&#19968;&#20010;&#31995;&#32479;&#26381;&#21153;&#20102;&#65292;&#21487;&#33021;&#24050;&#32463;&#21551;&#21160;&#20102;&#12290;&#22312;&#24320;&#22987;&#36825;&#33410;&#30340;&#20869;&#23481;&#20043;&#21069;&#65292;&#24314;&#35758;&#20808;&#23558;caddy&#20572;&#27490;&#36816;&#34892;&#12290;&#21487;&#20197;&#20351;&#29992;<span class="command"><strong>caddy stop</strong></span>&#21629;&#20196;&#26469;&#20572;&#27490;caddy&#26381;&#21153;&#12290;&#19979;&#38754;&#65292;&#25105;&#20204;&#36890;&#36807;&#22914;&#19979;&#30340;&#20960;&#20010;&#23454;&#39564;&#26469;&#23545;caddy&#36827;&#34892;&#19968;&#20010;&#22823;&#33268;&#30340;&#20102;&#35299;&#12290;</p></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s02.html"><img src="themes/default/navig/prev.png" alt="&#19978;&#19968;&#39029;"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch01.html"><img src="themes/default/navig/up.png" alt="&#19978;&#19968;&#32423;"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02.html"><img src="themes/default/navig/next.png" alt="&#19979;&#19968;&#39029;"></a></td></tr><tr><td width="40%" align="left" valign="top">2.&nbsp;&#23433;&#35013;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="themes/default/navig/home.png" alt="&#36215;&#22987;&#39029;"></a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#20351;&#29992;&#20837;&#38376;</td></tr></table></div></body></html>