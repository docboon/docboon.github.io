<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>4.&nbsp;&#37197;&#32622;&#27979;&#35797;&#21644;adapter</title><link rel="stylesheet" type="text/css" href="themes/default/style/style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><style type="text/css">
body { background-image: url('themes/default/style/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="Caddy&#20351;&#29992;&#25163;&#20876;"><link rel="up" href="ch02.html" title="&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#20351;&#29992;&#20837;&#38376;"><link rel="prev" href="ch02s03.html" title="3.&nbsp;&#23581;&#35797;&#20351;&#29992;caddyAPI &amp; JSON"><link rel="next" href="ch02s05.html" title="5.&nbsp;JSON vs. Caddyfile"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.&nbsp;&#37197;&#32622;&#27979;&#35797;&#21644;adapter</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html"><img src="themes/default/navig/prev.png" alt="&#19978;&#19968;&#39029;"></a>&nbsp;</td><th width="60%" align="center">&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#20351;&#29992;&#20837;&#38376;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02s05.html"><img src="themes/default/navig/next.png" alt="&#19979;&#19968;&#39029;"></a></td></tr></table></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e575"></a>4.&nbsp;&#37197;&#32622;&#27979;&#35797;&#21644;adapter</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="d0e578"></a>4.1.&nbsp;&#23545;&#37197;&#32622;&#36827;&#34892;&#27979;&#35797;&#65288;Test config&#65289;</h3></div></div></div><p>&#22312;caddy&#21551;&#21160;&#20197;&#21518;&#65292;&#25105;&#20204;&#38543;&#26102;&#37117;&#21487;&#20197;&#22312;caddy server&#19978;&#20351;&#29992;<span class="command"><strong>curl</strong></span>&#21629;&#20196;&#36890;&#36807;GET&#35831;&#27714;&#26469;&#26597;&#30475;&#37197;&#32622;&#65306;</p><pre class="screen">curl localhost:2019/config/</pre><p>&#36825;&#20010;&#21629;&#20196;&#30452;&#33267;&#36755;&#20986;&#30340;&#32467;&#26524;&#26159;JSON&#26684;&#24335;&#30340;&#65292;&#38750;&#24120;&#19981;&#26131;&#35835;&#65292;&#21487;&#20197;&#20351;&#29992;<span class="command"><strong>jq</strong></span>&#21629;&#20196;&#26469;&#23558;&#20854;&#26684;&#24335;&#21270;&#65306;</p><pre class="screen">curl localhost:2019/config/ | jq</pre><p>&#21487;&#20197;&#30475;&#20986;&#65292;&#36755;&#20986;&#30340;&#32467;&#26524;&#21644;&#25105;&#20204;&#30340;&#37197;&#32622;&#26159;&#19968;&#33268;&#30340;&#12290;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;&#21629;&#20196;&#23558;&#24403;&#21069;&#30340;&#37197;&#32622;&#23548;&#20986;&#12290;</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="d0e597"></a>4.2.&nbsp;adapter</h3></div></div></div><p>&#25105;&#20204;&#20250;&#30475;&#21040;&#19968;&#20010;JSON&#36755;&#20986;&#65292;caddy&#20351;&#29992;caddyfile adapter&#65288;config adapter&#65289;&#65292;&#23558;<code class="filename">Caddyfile</code>&#36716;&#25442;&#20026;JSON&#65288;Caddy's native JSON structure&#65289;&#26684;&#24335;&#12290;</p><p>&#22312;&#20351;&#29992;<span class="command"><strong>caddy run</strong></span>&#25110;<span class="command"><strong>caddy start</strong></span>&#21551;&#21160;caddy&#20197;&#21518;&#65292;&#21487;&#20197;&#22312;&#21478;&#22806;&#19968;&#20010;&#32456;&#31471;&#20013;&#36816;&#34892;&#19979;&#38754;&#30340;&#21629;&#20196;&#65306;</p><pre class="screen">curl localhost:2019/config/</pre><p>&#36890;&#36807;&#36825;&#20010;&#21629;&#20196;&#65292;&#21487;&#20197;&#26597;&#30475;&#24403;&#21069;&#30340;&#37197;&#32622;&#12290;</p></div></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html"><img src="themes/default/navig/prev.png" alt="&#19978;&#19968;&#39029;"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch02.html"><img src="themes/default/navig/up.png" alt="&#19978;&#19968;&#32423;"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02s05.html"><img src="themes/default/navig/next.png" alt="&#19979;&#19968;&#39029;"></a></td></tr><tr><td width="40%" align="left" valign="top">3.&nbsp;&#23581;&#35797;&#20351;&#29992;caddyAPI &amp; JSON&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="themes/default/navig/home.png" alt="&#36215;&#22987;&#39029;"></a></td><td width="40%" align="right" valign="top">&nbsp;5.&nbsp;JSON vs. Caddyfile</td></tr></table></div></body></html>